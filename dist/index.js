"use strict";var n=Object.defineProperty;var a=Object.getOwnPropertyDescriptor;var l=Object.getOwnPropertyNames;var u=Object.prototype.hasOwnProperty;var p=(t,r)=>{for(var s in r)n(t,s,{get:r[s],enumerable:!0})},h=(t,r,s,e)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of l(r))!u.call(t,o)&&o!==s&&n(t,o,{get:()=>r[o],enumerable:!(e=a(r,o))||e.enumerable});return t};var f=t=>h(n({},"__esModule",{value:!0}),t);var m={};p(m,{fetchClientID:()=>x,testClientID:()=>w});module.exports=f(m);var i=class extends Error{constructor(r){super(r),this.name="FetchClientError"}};function d(t,r){let s,e=null;do s=r.exec(t),s&&(e=s);while(s);return e}async function x(){let t=await fetch("https://soundcloud.com/");if(!t.ok)throw new i(`Initial request failed: ${t.status} ${t.statusText}`);let r=await t.text(),s=d(r,/<script\s+crossorigin\s+src=["'](https?:\/\/[^"']+)["']><\/script>/gi);if(!s)throw new i("Failed to parse script URL");let e=await fetch(s[1]);if(!e.ok)throw new i(`Script request failed: ${e.status} ${e.statusText}`);let c=(await e.text()).match(/\bclient_id:\s*["']([^"']+)["']/i);if(!c)throw new i("Failed to parse client ID from script");return c[1]}async function w(t){let{status:r}=await fetch(`https://api-v2.soundcloud.com/?client_id=${t}`,{method:"HEAD"});return r===404}0&&(module.exports={fetchClientID,testClientID});
//# sourceMappingURL=index.js.map