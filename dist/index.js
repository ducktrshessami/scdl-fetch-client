"use strict";var n=Object.defineProperty;var c=Object.getOwnPropertyDescriptor;var l=Object.getOwnPropertyNames;var u=Object.prototype.hasOwnProperty;var p=(s,t)=>{for(var e in t)n(s,e,{get:t[e],enumerable:!0})},d=(s,t,e,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of l(t))!u.call(s,r)&&r!==e&&n(s,r,{get:()=>t[r],enumerable:!(o=c(t,r))||o.enumerable});return s};var f=s=>d(n({},"__esModule",{value:!0}),s);var x={};p(x,{fetchClientID:()=>m,testClientID:()=>w});module.exports=f(x);var i=class extends Error{constructor(t){super(t),this.name="FetchClientError"}};function h(s){let t,e;do t=s.next(),t.done||(e=t.value);while(!t.done);return e!=null?e:null}async function m(){let s=await fetch("https://soundcloud.com/");if(s.status>=400)throw new i(`Initial request failed: ${s.status} ${s.statusText}`);let e=(await s.text()).matchAll(/<script\s+crossorigin\s+src=["'](https?:\/\/[^"']+)["']><\/script>/gi),o=h(e);if(!o)throw new i("Failed to parse script URL");let r=await fetch(o[1]);if(r.status>=400)throw new i(`Script request failed: ${r.status} ${r.statusText}`);let a=(await r.text()).match(/\bclient_id:\s*["']([^"']+)["']/i);if(!a)throw new i("Failed to parse client ID from script");return a[1]}async function w(s){let t=await fetch(`https://api-v2.soundcloud.com/resolve?client_id=${s}`,{method:"HEAD"});return t.status===200||t.status===404}0&&(module.exports={fetchClientID,testClientID});
//# sourceMappingURL=index.js.map