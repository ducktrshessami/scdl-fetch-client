"use strict";var n=Object.defineProperty;var c=Object.getOwnPropertyDescriptor;var l=Object.getOwnPropertyNames;var u=Object.prototype.hasOwnProperty;var p=(s,t)=>{for(var e in t)n(s,e,{get:t[e],enumerable:!0})},d=(s,t,e,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of l(t))!u.call(s,i)&&i!==e&&n(s,i,{get:()=>t[i],enumerable:!(o=c(t,i))||o.enumerable});return s};var f=s=>d(n({},"__esModule",{value:!0}),s);var x={};p(x,{fetchClientID:()=>m,testClientID:()=>w});module.exports=f(x);var r=class extends Error{constructor(t){super(t),this.name="FetchClientError"}};function h(s){let t,e;do t=s.next(),t.done||(e=t.value);while(!t.done);return e!=null?e:null}async function m(){let s=await fetch("https://soundcloud.com/");if(s.status>=400)throw new r(`Initial request failed: ${s.status} ${s.statusText}`);let e=(await s.text()).matchAll(/<script\s+crossorigin\s+src=["'](https?:\/\/[^"']+)["']><\/script>/gi),o=h(e);if(!o)throw new r("Failed to parse script URL");let i=await fetch(o[1]);if(i.status>=400)throw new r(`Script request failed: ${i.status} ${i.statusText}`);let a=(await i.text()).match(/\bclient_id:\s*["']([^"']+)["']/i);if(!a)throw new r("Failed to parse client ID from script");return a[1]}async function w(s){let{status:t}=await fetch(`https://api-v2.soundcloud.com/?client_id=${s}`,{method:"HEAD"});return t===404}0&&(module.exports={fetchClientID,testClientID});
//# sourceMappingURL=index.js.map