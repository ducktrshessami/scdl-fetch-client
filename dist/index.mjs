var i=class extends Error{constructor(r){super(r),this.name="ClientFetchError"}};function n(t,r){let s,e=null;do s=r.exec(t),s&&(e=s);while(s);return e}async function u(){let t=await fetch("https://soundcloud.com/");if(!t.ok)throw new i(`Initial request failed: ${t.status} ${t.statusText}`);let r=await t.text(),s=n(r,/<script\s+crossorigin\s+src=["'](https?:\/\/[^"']+)["']><\/script>/gi);if(!s)throw new i("Failed to parse script URL");let e=await fetch(s[1]);if(!e.ok)throw new i(`Script request failed: ${e.status} ${e.statusText}`);let o=(await e.text()).match(/\bclient_id:\s*["']([^"']+)["']/i);if(!o)throw new i("Failed to parse client ID from script");return o[1]}async function h(t){let{status:r}=await fetch(`https://api-v2.soundcloud.com/?client_id=${t}`,{method:"HEAD"});return r===404}export{u as fetchClientID,h as testClientID};
//# sourceMappingURL=index.mjs.map