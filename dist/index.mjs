var e=class extends Error{constructor(s){super(s),this.name="FetchClientError"}};function a(t){let s,i;do s=t.next(),s.done||(i=s.value);while(!s.done);return i!=null?i:null}async function p(){let t=await fetch("https://soundcloud.com/");if(t.status>=400)throw new e(`Initial request failed: ${t.status} ${t.statusText}`);let i=(await t.text()).matchAll(/<script\s+crossorigin\s+src=["'](https?:\/\/[^"']+)["']><\/script>/gi),o=a(i);if(!o)throw new e("Failed to parse script URL");let r=await fetch(o[1]);if(r.status>=400)throw new e(`Script request failed: ${r.status} ${r.statusText}`);let n=(await r.text()).match(/\bclient_id:\s*["']([^"']+)["']/i);if(!n)throw new e("Failed to parse client ID from script");return n[1]}async function f(t){let{status:s}=await fetch(`https://api-v2.soundcloud.com/?client_id=${t}`,{method:"HEAD"});return s===404}export{p as fetchClientID,f as testClientID};
//# sourceMappingURL=index.mjs.map